language: csharp  

sudo: required  
dist: trusty  

env:  
  - CLI_VERSION=1.0.0-preview2-003121

# See also https://github.com/dotnet/core/blob/master/Documentation/prereqs.md
addons:  
  apt:
    packages:
    - gettext
    - libcurl4-openssl-dev
    - libicu-dev
    - libssl-dev
    - libunwind8
    - zlib1g

mono:
  - latest

os:  
  - linux # Ubuntu 14.04
  - osx

osx_image: xcode7.2 # OSX 10.11

before_install:
  - if test "$TRAVIS_OS_NAME" == "osx"; then
      brew update;
      brew install openssl;
      brew link --force openssl;
    fi

script:  
  - ./build.sh

branches:  
  only:
    - dotnetcli
